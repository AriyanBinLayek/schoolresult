{% extends "results/base.html" %} 
{% load crispy_forms_tags %} 
{% block main_content %}








<div class="col-md-3 offset-md-4  centered">
    <h2>Class Wise Rank Search </h2>
    <form action="" method="POST">
        {% csrf_token %} {{form | crispy}}
        <button type="submit" class="btn btn-primary">Submit</button>
    </form>
</div>

<hr>

<div class="col-lg-12 centered">
    <div class="card">

        <div class="card-body">
            {% if std_search %}
            

<div class="div">
    <div class="row">
        <div class="col-md-6">
            <p>Name {{fsf}}</p>
        </div>
    </div>
</div>



<div class="row">
    <div class="col-md-12 col-sm-12 col-xs-12 mx-auto ">

        <div class="div">
<p>Total Student: {{std_search_count}} ( {{class_name}} Class)
                
            </p>
<h2 class="mx-auto" style="width:250px;font-size:25px">Class {{class_name}} Rank List</h2>
            <hr>
            <table class="table table-hover table-bordered">
                <thead>
                    <tr>
                        <th>SL</th>
                        <th>Student Name</th>
                        <th>Roll</th>
                        <th>Rank Status</th>
                        <th>Class Rank</th>
                    
                        <th>School Rank</th>
                        <th>Class</th>
                       
                        <th>GPA</th>
                        <th>Marks</th>
                    </tr>
                </thead>
                <tbody>
                    {% for std in std_search%}
                    <tr>
                        <td>{{forloop.counter}}</td>
                        <td>
                            <a href="{% url 'std_details' std.id%}">{{std.std_name}}</a>
                        </td>

                        <td>{{std.std_roll}}</td>

                        {% if std.std_roll > std.class_rank %}
                        <td style="color:#3498db">
                            <i class="fas fa-arrow-up"></i>Rank Up 
                        </td>

                        {% elif std.std_roll < std.class_rank%}
                        
                        <td style="color:red"><i class="fas fa-arrow-down"></i>  Rank Down </td>

                        {% elif std.std_roll == std.class_rank %}

                        <td> Rank label
                            <i class="fas fa-arrows-alt-v"></i>
                        </td>
                                                
                        {% endif %}

                        <td>{{std.class_rank}}</td>
                        
                       
                        

                        <td>{{std.school_rank}}</td>

                        <td>{{std.get_std_class_display}}</td>
                        
                        <td>{{std.std_grade_point_total_subject_avg|floatformat:'2'}}</td>
                        <td>{{std.std_total_marks|floatformat}}</td>
                        

                       
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>










            {% elif std_search == None %}

            <h4 style="text-align:center;font-size:15px;padding:10px" class="card bg-dark text-white card-title">Fulhata Secondary School Result Application</h4>


            {% else %}
            <h4 style="text-align:center;font-size:15px;padding:10px" class="card bg-danger text-white card-title">{{std_search.subject_name}} Not Found</h4>
            {% endif %}

        </div>
    </div>
</div>









{% endblock main_content %}
